window.onload = () => document.getElementById('loader').style.opacity = '0';

const data = {
    robotics: {
        title: "1. Роботизация производства",
        pre: ["Тренд на импортозамещение", "Субсидии 20-50% от стоимости", "Нацпроект «Средства производства»", "Дефицит кадров", "Оптимизация затрат"],
        apps: [
            {n: "Резка", d: "Лазерная, плазменная, гидроабразивная"},
            {n: "Формовка", d: "Прессы, листовая штамповка"},
            {n: "Соединение", d: "Сварка, склейка, наплавка"},
            {n: "Обработка", d: "Окраска, шлифовка, напыление"},
            {n: "Проверка", d: "Контроль качества, измерения"},
            {n: "Склад", d: "Паллетирование, перенос деталей"}
        ],
        effects: "Производительность: +30-40% | Затраты: -20-40% | Травматизм: -50-60%",
        partners: ["НПП Радиосвязь", "УВЗ", "ОмскТрансМаш", "РКЦ Прогресс"]
    },
    quality: {
        title: "2. Контроль качества продукции",
        pre: ["Алгоритмы ИИ", "Оцифровка процессов", "Повышение требований", "Конкуренция"],
        apps: [
            {n: "Конвейер", d: "Обнаружение дефектов"},
            {n: "Гранулометрия", d: "Анализ состава и фракций"},
            {n: "Транспорт", d: "Анализ потоков"},
            {n: "Логистика", d: "Маркировка и приемка"},
            {n: "Пищепром", d: "Контроль состава"},
            {n: "Весогабарит", d: "Стационарные посты"}
        ],
        effects: "Брак: -20-35% | Время контроля: -50% | Издержки: -15-20%",
        partners: ["ГАЗ ГРУППА", "ШЕРЕМЕТЬЕВО", "УВЗ"]
    },
    security: {
        title: "3. Инженерно-технические средства охраны",
        pre: ["ФЗ и постановления Правительства", "Антитеррористическая защита", "ИТ-безопасность"],
        apps: [
            {n: "Ограждения", d: "Защитные барьеры"},
            {n: "Досмотр", d: "Интроскопы и детекторы"},
            {n: "Сигнализация", d: "Периметральная защита"},
            {n: "Видео", d: "Тепловизоры и аналитика"},
            {n: "Доступ", d: "Биометрия и Mobile ID"},
            {n: "Радары", d: "Гидролокаторы и датчики"}
        ],
        effects: "Точность: 99.9% | Реакция: 2-3 сек | Ошибки персонала: -40%",
        partners: ["РОСНЕФТЬ", "МВД РОССИИ", "ФорвардЭнерго"]
    },
    eco: {
        title: "4. Промбезопасность и Экомониторинг",
        pre: ["Программа «Безопасный труд»", "Нормативная база", "Экологическая ответственность"],
        apps: [
            {n: "Системы БЖД", d: "Мониторинг ОПС"},
            {n: "Наряды", d: "Контроль дисциплины"},
            {n: "Аналитика", d: "Геопозиционирование"},
            {n: "Предотвращение", d: "Снижение рисков ДТП"},
            {n: "Эко-контроль", d: "Выбросы и среда"},
            {n: "Сейсмо", d: "Мониторинг взрывов"}
        ],
        effects: "Аварийность: -50% | Выявление угроз: < 2 мин | Стоимость устранения: -40%",
        partners: ["НОРНИКЕЛЬ", "СУЭК", "ЕВРАЗ", "СЕЛИГДАР"]
    },
    equipment: {
        title: "5. Технологическое оборудование",
        pre: ["Импортозамещение узлов", "Рост производительности", "Замена аналогов"],
        apps: [
            {n: "Тепло", d: "Котлы и теплообменники"},
            {n: "Энергия", d: "Генераторы и ТП"},
            {n: "Давление", d: "Компрессорные станции"},
            {n: "Турбины", d: "Газовые и паровые"},
            {n: "Вентиляция", d: "Системы очистки"},
            {n: "Ректификация", d: "Колонны и дистилляция"}
        ],
        effects: "Объемы: +20% | Брак: < 1% | Затраты на ремонт: -40%",
        partners: ["ЯЗДА", "ЯМЗ", "УВЗ", "ХИАГДА"]
    }
};

function openProject(key) {
    const p = data[key];
    const html = `
        <div class="container animate__animated animate__fadeIn">
            <h1 style="color: var(--rt-orange)">${p.title}</h1>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 50px; margin-top: 40px;">
                <div>
                    <h3>Предпосылки:</h3>
                    <ul style="margin: 20px 0; line-height: 2;">${p.pre.map(i => `<li>✔ ${i}</li>`).join('')}</ul>
                    <div style="background: var(--rt-orange); padding: 30px; border-radius: 20px; margin-top: 30px;">
                        <h3>Экономический эффект:</h3>
                        <p style="font-size: 1.4rem; font-weight: bold;">${p.effects}</p>
                    </div>
                </div>
                <div>
                    <h3>Опыт внедрения:</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 20px;">
                        ${p.partners.map(part => `<span style="background:rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 10px;">${part}</span>`).join('')}
                    </div>
                </div>
            </div>
            <h2 style="margin-top: 60px;">Области применения в разрезе операций:</h2>
            <div class="case-grid">
                ${p.apps.map(app => `
                    <div class="case-card">
                        <img src="https://via.placeholder.com/400x250/1a263a/ffffff?text=${app.n}" alt="">
                        <h4>${app.n}</h4>
                        <ul><li>${app.d}</li></ul>
                    </div>
                `).join('')}
            </div>
        </div>
    `;
    document.getElementById('details-content').innerHTML = html;
    document.getElementById('details-view').classList.add('visible');
    document.body.style.overflow = 'hidden';
}

function closeProject() {
    document.getElementById('details-view').classList.remove('visible');
    document.body.style.overflow = 'auto';
}
